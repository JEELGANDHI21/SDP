{"ast":null,"code":"var _jsxFileName = \"E:\\\\SDP\\\\client\\\\src\\\\Components\\\\ProductDetail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\n// import { sendEmail } from \"./sendEmail\"; // Import your email sending service\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductDetail = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    product\n  } = location.state || {};\n  const [isEditingPrice, setIsEditingPrice] = useState(false);\n  const [editedPrice, setEditedPrice] = useState((product === null || product === void 0 ? void 0 : product.price) || \"\");\n  const handleEditPrice = () => {\n    setIsEditingPrice(true);\n  };\n  const handleSavePrice = async event => {\n    event.preventDefault();\n\n    // Perform validation (optional)\n    if (!editedPrice || isNaN(editedPrice)) {\n      alert(\"Please enter a valid price.\");\n      return;\n    }\n\n    // Update price logic (use API call, state management, etc.)\n    // This snippet simulates an update:\n    const newPrice = parseFloat(editedPrice);\n    const updatedProduct = {\n      ...product,\n      price: newPrice\n    };\n    console.log(\"Updated product:\", updatedProduct);\n\n    // Redirect or display confirmation message\n    navigate(\"/home\"); // Redirect to product list\n\n    // Optionally send email after update (consider security and user consent):\n    // if (window.confirm(\"Send email notification to user with ID \" + product?.studentId + \"?\")) {\n    //   try {\n    //     await sendEmail({\n    //       to: product?.studentId, // Replace with valid email address\n    //       subject: \"Product Price Update\",\n    //       body: `The price of product \"${product.name}\" has been updated to ${newPrice}.`,\n    //     });\n    //     alert(\"Email sent successfully.\");\n    //   } catch (error) {\n    //     console.error(\"Error sending email:\", error);\n    //     alert(\"Failed to send email. Please check your email service configuration.\");\n    //   }\n    // }\n  };\n  const handleCancelEdit = () => {\n    setIsEditingPrice(false);\n    setEditedPrice((product === null || product === void 0 ? void 0 : product.price) || \"\"); // Reset edited price\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"container mx-auto p-8 flex justify-center\",\n    children: product ? /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"card rounded-lg overflow-hidden bg-white shadow-md hover:shadow-lg transition duration-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        class: \"w-full h-48 object-cover\",\n        src: product.productPath,\n        alt: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"p-4 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          class: \"text-2xl font-semibold mb-2\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"text-gray-700 mb-4\",\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"flex items-center mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"text-gray-600 mr-2\",\n            children: [\"Category: \", product.category]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"text-gray-600\",\n            children: [\"ID: \", product.studentId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"text-green-600 mr-2\",\n            children: [\"Price: $\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), isEditingPrice ? /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: editedPrice,\n            onChange: e => setEditedPrice(e.target.value),\n            class: \"w-20 text-center border border-gray-300 rounded mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            class: \"bg-blue-500 text-white px-4 py-2 rounded\",\n            onClick: handleEditPrice,\n            children: \"Edit Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            class: \"bg-green-500 text-white px-4 py-2 rounded\",\n            onClick: handleAddToCart,\n            children: \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      class: \"text-red-500 text-center font-semibold\",\n      children: \"No product details available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetail, \"ah4QVRSLZ6thxpHb+XrCXUJmRDI=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = ProductDetail;\nexport default ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["React","useState","useLocation","useNavigate","jsxDEV","_jsxDEV","ProductDetail","_s","location","navigate","product","state","isEditingPrice","setIsEditingPrice","editedPrice","setEditedPrice","price","handleEditPrice","handleSavePrice","event","preventDefault","isNaN","alert","newPrice","parseFloat","updatedProduct","console","log","handleCancelEdit","class","children","src","productPath","alt","name","fileName","_jsxFileName","lineNumber","columnNumber","description","category","studentId","type","value","onChange","e","target","onClick","handleAddToCart","_c","$RefreshReg$"],"sources":["E:/SDP/client/src/Components/ProductDetail.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\n// import { sendEmail } from \"./sendEmail\"; // Import your email sending service\r\n\r\nconst ProductDetail = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const { product } = location.state || {};\r\n\r\n  const [isEditingPrice, setIsEditingPrice] = useState(false);\r\n  const [editedPrice, setEditedPrice] = useState(product?.price || \"\");\r\n\r\n  const handleEditPrice = () => {\r\n    setIsEditingPrice(true);\r\n  };\r\n\r\n  const handleSavePrice = async (event) => {\r\n    event.preventDefault();\r\n\r\n    // Perform validation (optional)\r\n    if (!editedPrice || isNaN(editedPrice)) {\r\n      alert(\"Please enter a valid price.\");\r\n      return;\r\n    }\r\n\r\n    // Update price logic (use API call, state management, etc.)\r\n    // This snippet simulates an update:\r\n    const newPrice = parseFloat(editedPrice);\r\n    const updatedProduct = { ...product, price: newPrice };\r\n    console.log(\"Updated product:\", updatedProduct);\r\n\r\n    // Redirect or display confirmation message\r\n    navigate(\"/home\"); // Redirect to product list\r\n\r\n    // Optionally send email after update (consider security and user consent):\r\n    // if (window.confirm(\"Send email notification to user with ID \" + product?.studentId + \"?\")) {\r\n    //   try {\r\n    //     await sendEmail({\r\n    //       to: product?.studentId, // Replace with valid email address\r\n    //       subject: \"Product Price Update\",\r\n    //       body: `The price of product \"${product.name}\" has been updated to ${newPrice}.`,\r\n    //     });\r\n    //     alert(\"Email sent successfully.\");\r\n    //   } catch (error) {\r\n    //     console.error(\"Error sending email:\", error);\r\n    //     alert(\"Failed to send email. Please check your email service configuration.\");\r\n    //   }\r\n    // }\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setIsEditingPrice(false);\r\n    setEditedPrice(product?.price || \"\"); // Reset edited price\r\n  };\r\n\r\n  return (\r\n    <div class=\"container mx-auto p-8 flex justify-center\">\r\n      {product ? (\r\n        <div class=\"card rounded-lg overflow-hidden bg-white shadow-md hover:shadow-lg transition duration-200\">\r\n          <img\r\n            class=\"w-full h-48 object-cover\"\r\n            src={product.productPath}\r\n            alt={product.name}\r\n          />\r\n          <div class=\"p-4 flex flex-col\">\r\n            <h2 class=\"text-2xl font-semibold mb-2\">{product.name}</h2>\r\n            <p class=\"text-gray-700 mb-4\">{product.description}</p>\r\n            <div class=\"flex items-center mb-2\">\r\n              <p class=\"text-gray-600 mr-2\">Category: {product.category}</p>\r\n              <p class=\"text-gray-600\">ID: {product.studentId}</p>\r\n            </div>\r\n            <div class=\"flex items-center\">\r\n              <p class=\"text-green-600 mr-2\">Price: ${product.price}</p>\r\n              {isEditingPrice ? (\r\n                <input\r\n                  type=\"number\"\r\n                  value={editedPrice}\r\n                  onChange={(e) => setEditedPrice(e.target.value)}\r\n                  class=\"w-20 text-center border border-gray-300 rounded mr-2\"\r\n                />\r\n              ) : (\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n                  onClick={handleEditPrice}\r\n                >\r\n                  Edit Price\r\n                </button>\r\n              )}\r\n              <button\r\n                type=\"button\"\r\n                class=\"bg-green-500 text-white px-4 py-2 rounded\"\r\n                onClick={handleAddToCart}\r\n              >\r\n                Add to Cart\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <p class=\"text-red-500 text-center font-semibold\">\r\n          No product details available.\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}